@use "../globals/fonts" as f;
@use "../globals/colors" as c;
@use "../globals/patterns" as p;

form {
  > :not(:last-child):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
    margin-bottom: 1em;
  }

  > p {
    max-width: 100%;
  }
}

label,
input:not([type="checkbox"]):not([type="radio"]),
textarea {
  display: block;
  width: 100%;
}

label {
  @include f.font-weight(700);

  > input:not([type="checkbox"]):not([type="radio"]),
  > textarea {
    @include f.font-weight();
    margin-top: 0.5rem;
  }
}

input,
textarea {
  @include p.input;

  &::placeholder {
    font-style: italic;
  }
}

textarea {
  min-height: 10em;
  max-height: 40em;
  resize: vertical;
}

button {
  padding: 0.25rem 0.5rem;
  @include p.button;
  @include f.font-weight(700);
}

.button {
  @include p.button;
  padding: 0.5rem 1rem;
}

.button-accent {
  border-color: c.get("accent");
  color: c.get("accent");

  &:hover,
  &:active {
    color: c.get("accent-hover");
    border-color: c.get("accent-hover");
  }
}

.checkbox-list,
.radio-list {
  display: grid;
  gap: 0.5rem;
}

.input-checkbox,
.input-radio {
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1ch;
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  input {
    padding: 0.25rem;
    background: c.getGray("background-solid");
    inline-size: 2rem;
    block-size: 1rem;
    border: 0.1rem solid c.get("background-solid");
    border-bottom-width: 0.25rem;
    border-radius: 0.5rem;

    appearance: none;
    pointer-events: none;
    touch-action: pan-y;
    outline-offset: 5px;
    box-sizing: content-box;

    flex-shrink: 0;
    display: grid;
    align-items: center;
    grid: [track] 1fr / [track] 1fr;

    transition: background-color 0.25s ease, transform 0.25s ease,
      box-shadow 0.25s ease;

    &::before {
      --highlight-size: 0;

      content: "";
      cursor: pointer;
      pointer-events: auto;
      grid-area: track;
      inline-size: 1rem;
      block-size: 1rem;
      background: c.get("background");
      box-shadow: 0 0 0 var(--highlight-size) c.get("accent");
      border-radius: 0.25rem;
      transform: translateX(0%);
    }

    &:not(:disabled):hover::before {
      --highlight-size: 0.125rem;
    }

    &:checked {
      background: c.getSuccess("background-solid");
      &::before {
        transform: translateX(calc((2rem - 100%)));
      }
    }
    &:disabled {
      cursor: not-allowed;
      background-color: transparent;

      &::before {
        cursor: not-allowed;
        box-shadow: inset 0 0 0 2px hsl(0 0% 100% / 50%);
      }
    }
  }
}
